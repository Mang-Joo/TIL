# REPETABLE READ

MySQL에서 가장 기본으로 사용되는 격리 수준이다.

이 격리 수준에서는 위에서 말했던  `NON-REPETABLE READ` **부정합이 발생하지 않는다.**

`REPETABLE READ`는 `MVCC`를 위해 언두 영역에 백업된 이전 데이터를 이용해 동일 트랜잭션 내에서는 동일한 결과를 보여줄 수 있게 보장한다.

READ COMMITTED의 차이는 언두 영역에 백업된 레코드의 여러 버전 가운데 몇 번째 이전 버전까지 찾아 들어가야 하느냐에 있다.

REPETABLE READ 격리 수준에서는 MVCC를 보장하기 위해 실행 중인 트랜잭션 가운데 가장 오래된 트랜잭션 번호보다 트랜잭션 번호가 앞선 `언두 영역`**의 데이터는 삭제할 수 없다.**

하지만 REPETABLE READ 격리 수준에서도 PHANTOM READ 부정합은 발생할 수 있다.

> PHANTOM READ\
> 다른 트랜잭션에서 수행한 변경 작업에 의해 레코드가 보였다 안 보였다 하는 현상

레코드는 언두 영역의 변경 전 데이터를 가져오는 것이 아니라 현재 레코드의 값을 가져오게 된다.

하지만 InnoDB엔진에서는 `갭 락`과 `넥스트 키 락` 덕분에 `REPETABLE READ` 격리 수준에서도 `PHANTOM READ`가 발생하지 않는다.
