# SSL/TLS 인증서

## SSL/TLS 인증서란

SSL/TLS 인증서는 웹사이트나 다른 서버와의 통신을 보호하기 위해서 등장한 디지털 인증 도구이다. 이 인증서는 공개 키 암호화 기술을 사용하여 데이터의 안전한 전송을 보장하며, 이를 통해서 수정, 분실, 도난 없이 데이터를 비공개로 전송할 수 있다.

> TLS는 SSL의 후속 기술로, SSL의 취약점을 보완하여 등장한 인증서다. 2015년도에 교체됐지만 대부분 SSL이란 용어를 아직 사용하기 사용하기 때문에 SSL/TLS로 얘기를 하는 것 같다.

### 이것을 사용해야 하는 이유

* 개인 데이터 보호
  * 브라우저는 이 인증서를 통하여 보안 연결을 하고 유지한다.
  * 때문에 모든 통신을 암호화 할 수 있다.
* 고객 신뢰 강화
  * 보통 고객은 개인 정보 보호에 대해서 중요하게 생각하고 해당 웹 사이트를 신뢰하기 바란다.
  * 이 인증서를 통해 고객들은 안전하게 데이터를 전송할 수 있다는 것을 알 수 있다.

## 인증서가 있으면 왜 안전할까?

해당 인증서는 CA라는 인증 기관에서 판매를 하고 있다. 즉, CA 인증을 받은 기관에서 대리자로서 이 웹사이트는 안전한다는 것을 보장해주는 것이다.

보통 1\~2년 사이의 유효기간을 가지며 해당 인증서가 만료되면 새로운 인증서를 발급받아 갱신해야 한다. 이 인증서가 유효기간이 지났을 경우 브라우저에 자물쇠 모양이 빨간색으로 변하며 위험하다는 것을 나타내준다.

## 인증서를 통하여 어떻게 데이터가 암호화 될까?

그렇다면 인증서가 있으면 어떻게 암호화를 할 수 있을까?

먼저 tcp/ip계층에서 connection을 맺기 위해 3-way-handshake를 진행한다.

1. 클라이언트가 서버에 연결 요청을 보낸다.(SYN)
2. 서버는 클라이언트에게 응답을 보낼 때 **public key를 포함하여 응답**해준다(SYN + ACK)
   * 이 때 인증서도 함께 확인하게 된다.
     * 인증서의 서명
     * 유효 기간
     * 인증서 체인 확인(소속된 CA에 의해 서명된 것인지 확인)
3. 클라이언트는 서버에게 **public key로 암호화 한 대칭키**를 서버에게 보내준다.(ACK)
4. 서버는 해당 대칭키를 **유일하게** 복호화 할 수 있는 **private key를 통하여 복호화**한다.

이렇게 하면 안전하게 대칭키를 교환할 수 있고 대칭키를 통해 암복호화를 할 수 있기 때문에 안전한 통신을 할 수 있게 된다.

### 그렇다면 왜 비대칭키가 아닌 대칭키를 사용할까?

가장 큰 이유는 바로 성능이다.

대칭 키 알고리즘은 비대칭키에 비해 키 길이가 더 짧기 때문에 암호화 복호화 계산량이 더 줄어든다.

또한 대칭 키는 비대칭 키에 비해 알고리즘이 단순하기 때문에 마찬가지로 이러한 이유로 계산량이 더 줄어들게 된다.

네트워크 통신에서 가장 중요한 응답속도를 최대한으로 줄이기 위하여 해당 방법으로 키교환을 하여 암복호화를 진행하게 된다.
